# קטאן - מחלקות וירושה
המתיישבים של קטאן הוא משחק קופסא ל-3 עד 4 שחקנים המשלב הן חשיבה אסטרטגית, ניהול משאבים ויכולת מסחר. מטרת המשחק היא לצבור ראשון 10 נקודות ניצחון.
את הוראות המשחק המלא ניתן למצוא כאן: https://www.hakubia.com/wp-content/uploads/2021/01/%D7%A7%D7%98%D7%90%D7%9F.pdf.
במטלה אתם תממשו גרסה פשוטה יותר של המשחק עבור 3 שחקנים.
## חוקי המשחק
המשחק מורכב מלוח המכיל 19 חלקות אדמה מוקפות בים. כל חלקת אדמה נותנת משאב כלשהו (חוץ מהמדבר). חלקות האדמה במשחק הן: יער (מניב עץ), גבעות (מניבות לבנים), אדמת מרעה (מניבה צמר), אדמה חקלאית (מניבה שיבולת), הרים (מניבים ברזל), מדבר (לא מניב כלום).
כל חלקי המפה מקבלים מספר כלשהו בין 2 ל-12. 
### קלפים, יישובים, ערים ומשאבים
כל שחקן בעל משאבים (כגון שיבולת, ברזל, לבנים וכו') יכול לרכוש איתם דברים שונים במשחק כמו קלפי פיתוח, יישובים, ערים ודרכים.
- קלף פיתוח: מחירו של קלף פיתוח הוא ברזל 1, צמר 1 ושיבולת 1. השחקן יכול לקבל אחד מ-3 סוגים שונים של קלפים:
 1. קלף קידום: זהו קלף המעניק הטבה לשחקן (לאחר מכן הקלף נעלם). בין הקלפים הללו ניתן למצוא: מונופול - השחקן בוחר משאב כלשהו וכל שאר השחקנים מחוייבים להעביר לו את המשאב הזה. בניית דרכים - השחקן יכול לבנות 2 דרכים במפה ללא עלות. שנת שפע - השחקן זוכה לקבל מהבנק שני קלפים של משאבים לבחירה ולהשתמש בהם באותו התור.
 2. אבירים - שחקן המחזיק ב-3 קלפים כאלה, מקבל את קלף הצבא הגדול ביותר המקנה לו 2 נקודות ניצחון, ואחר כך מי שעוקף אותו ב1 לפחות מקבל את הקלף וכך ממשיך.
 3. קלפי נקודות ניצחון - יש 5 קלפים שונים המעניקים נקודת ניצחון למי שמחזיק בהם.
- בנייה: ניתן לבנות דרכים, ערים ויישובים בצורה הבאה:
 1. קטע דרך: עלותו לבנים 1 ועץ 1. קטע דרך יכול להיות מחובר רק ליישוב (או עיר) בבעלות השחקן או לקטע דרך נוסף.
 2. יישוב: עלות היישוב היא לבנה 1, עץ 1, צמר 1 ושיבולת 1. ניתן לבנות יישוב על צומת שאליה מובילה דרך אחת לפחות ומברחק של 2 קטעי דרך מיישוב אחר. בניית יישוב מקנה לשחקן נקודת ניצחון אחת.
 3. עיר: עיר יכולה להחליף יישוב קיים. עלות הבנייה היא ברזל 3 ושיבולת 2. ברגע שמשדרגים יישוב לעיר, השחקן מאבד את הנקודה של היישוב ומקבל 2 נקודות על הבנייה. עיר מעניקה לשחקן פי-2 יותר משאבים מכל חבלי הארץ הסמוכים לה.
- משאבים: כאמור, המשאבים מתקבלים מחבלי הארץ השונים. כאשר שחקן מטיל את קוביות המשחק, כל השחקנים מקבלים משאבים בהתאם למספר שיצא בהטלה (כלומר אם יצא 3 בהטלה, אז שחקנים עם יישובים/ערים הגובלים עם חבלי ארץ בעלי אותו מספר זוכים במשאב).
- מסחר: שחקנים יכולים לבצע מסחר ביניהם (כלומר להחליף קלפים או משאבים) בהתאם לאיך שהם קובעים.
### מהלך המשחק
כל שחקן מתחיל את המשחק עם 2 יישובים ו-2 קטעי דרך המעניקים לו 2 נקודות ניצחון. בנוסף, השחקנים מקבלים משאבים התחלתיים בהתאם למקומות שבהם הם מיקמו את היישובים (משאב אחד מכל משאב אפשרי).
סדר המשחק נקבע באופן שרירותי (לשיקולכם). בכל תור השחקנים מטילים 2 קוביות. בהתאם לתוצאת ההטלה, השחקנים מקבלים משאבים כמו שפורט מקודם.
שחקן בתור נתון עושה את הפעולות הבאות לפי הסדר (לאחר הטלת הקוביות):
- הוא יכול לסחור (כלומר להחליף קלפים או משאבים), בתנאי שעוד לא בנה.
- הוא יכול לבנות דרכים, יישובים או ערים ויכול לקנות קלפי פיתוח.
- שחקן יכול להשתמש בקלף פיתוח מתי שהוא רוצה כל עוד תורו.
  אם סכום ההטלה הוא 7, על כל השחקנים בעלי יותר מ-7 קלפי משאבים לבחור מחצית מהקלפים ולהחזיר אותם לערימה.
  בנוסף יש שודד על חבל ארץ אחד במשחק ואם הוא נמצא שם כל השחקנים שנמצאים מסביב לא יקבלו את אותו משאב מחבל הארץ שהוא נמצא עליו.
  ניתן להזיז אותו כאשר סכום ההטלות הוא 7, או בעזרת אביר.
  ### סיום המשחק
  המשחק מסתיים בתור שבו אחד השחקנים הגיע ל-10 או יותר נקודות ניצחון. כדי לנצח במשחק, השחקן צריך שיגיע תורו ובאותו התור יהיו לו 10 נקודות לכל הפחות.

. 
התוכנית רצה על הטרמינל כל המשחק כדי להריץ לכתוב make והמשחק ירוץ



### Catan
 static Catan &getInstance(const std::vector<Player *> &players);
        Board &getBoard();
        Player *getCurrentPlayer() const;
        void start();
        void playTurn();
        void nextPlayer();
        bool checkVictory();
        bool checkBuild(); // check if the player build something so he cant trade
        void printWinner();
        void giveResourceStart();
 void setIfBuild(bool status);
        void chooseStartingPlayer();
        bool buildFromUser(string WhatBuild); // take places and numbers from user and build with them
        // if player got 7 in dice we need to check all the player cards
        // to see if all got less then 7 card if not reduce the amount of the card
        void gotSevenInDice();
        void UseDevelopmentOfCurrentPlayer(const string &useDevelopment); // play card player
### Board
       int hasRobber() const;
        int findRoad(int n1, int n2) const;
        PlacementError ValidateSettlement(int node, const Player &player, int countTurn) const;
        PlacementError ValidateCity(int node, const Player &player) const;
        PlacementError ValidateRoad(int node1, int node2, const Player &player) const;
        bool placeSettlement(int node, Player &player, int countTurn);
        bool placeCity(int node, Player &player);
        bool placeRoad(int node1, int node2, Player &player);
        void setRobber(int hasRobber); //set robber in tile
        // bool placeSettlementFirstTime(int node, Player &player);
        // bool placeRoadFirstTime(int node1, int node2, Player &player);
        void printBoard() const;
        // void moveRobber(int tileNumber);
        void giveResourceByDice(int dice, int moverobber);
        std::vector<std::shared_ptr<Tile>> findTiles(const std::vector<std::string> &places, const std::vector<int> &placesNum); // find the tiles we looking for
        int findNode(std::vector<std::shared_ptr<Tile>> t);    //find nodes using tiles                                                                  // find the node we are looking for
        int findOtherNodeOfRoad(int Node,int numberofturn, Player &player);       
### Player
       void reduceVictoryPoints(int num);
        void addDevelopment(const string &getDevelopment);
        bool isInputsValid(const vector<string> &places, const vector<int> &placesNum);
        string getName() const;
        int getAge() const;
 
        int getVictoryPoints() const;
        void addVictoryPoints();

        void addResource(int count, const std::string &getResource);
        void removeResource(int count, const string &removeResource); 
        int getResourceCount(const std::string &getResource) const;
        int countResources();

        void useDevelopment(const string &removeDevelopment); // need to change this so it will be done in the catan and here only reduce
        int getDevelopmentCardCount(const string &getDevelopment) const;
        void buyDevelopmentCard();
        bool hasDevelopment() const;
        void printDevelopment() const;//list of the development of the player

        bool placeSettelemnt(const vector<string> &places, const vector<int> &placesNum, Board &board);
        bool placeCity(const vector<string> &places, const vector<int> &placesNum, Board &board);
        bool placeRoad(const vector<string> &places, const vector<int> &placesNum, Board &board);
        int getNumberOfSettlement() const;
        int getNumberOfCity() const;
        int getNumberOfRoads() const;

        int getSettlementLimit() const;
        int getCityLimit() const;
        int getRoadsLimit() const;

        int rollDice(Board &board);
        void endTurn();
        void startTurn();
        void hasBuild(bool b);
        bool getHasBuild() const;

        void trade(Player &other, const string &giveResource, const string &getResource, int giveAmount, int getAmount);
        void tradeMonopoly(Player &other, const string &giveResource, const string &getResource, int giveAmount, int getAmount);

        void setKnightCard(bool b); // to add do true else false
        bool getKnightCard();       // if he has knight card
        void setRoadCard(bool b);   // to add do true else false
        bool getRoadCard();         // if he has road card

        void printPoints() const;
        void printStatsOfPlayer() const; // print resource and dev own by player
        bool operator==(const Player &p) const;
